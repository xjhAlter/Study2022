# iOS 兼容问题记录

### 1、z-index 失效

#### 问题描述：z-index 属性没有生效

#### 原因：父级元素上使用了 `-webkit-overflow-scrolling: touch;`

#### 解决方案：`-webkit-overflow-scrolling: unset;`

---

### 2、100vh

#### 问题描述：ios 浏览器使用 100vh 自动撑满页面时会出现滚动条

#### 原因：在 safari 和 chrome 浏览器中，100vh 是指去掉地址栏后的高度，所以会出现滚动条（即如果没有地址栏，则没有滚动条）

#### 解决方案：通过 js 获取 `window.innerHeight`, 并将其设置为全屏高度, 其他地方改为使用 `height: 100%`

---

### 3、定宽不定高图片问题

#### 问题描述：flex 布局下，定宽不定高的图片发生变形，高度为原图片的高度

#### 原因：跟父元素没有设置高度有关？

#### 解决方案：

1. 图片设置`flex-shrink: 0` (测试没有效果，仅作记录)
2. 图片设置`height: 100%` (有效，需要在父元素没有设置高度的情况下使用)
3. 用 div 包裹图片 (没有测试)

---
